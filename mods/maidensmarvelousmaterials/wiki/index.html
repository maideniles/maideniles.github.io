<!DOCTYPE html>
<html lang="en" style="--purple: #8F84FD; --purple-gray: #686576; --light-gray: #f1f1f1; --gray: #d2d2d2; --dark-gray: #787878; --alt-gray: #767676; --alt-dark-gray: #505050;">
	<head>
		<script>let write = html => document.currentScript.insertAdjacentHTML('beforebegin', html);</script>
		<script src="/assets/libs/js/shml.js"></script>
		<title>Maideniles  - Maiden's Marvelous Materials Wiki</title>
		<meta charset="UTF-8">
		<link rel="apple-touch-icon" sizes="180x180" href="/assets/images/icons/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/icons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/icons/favicon-16x16.png">
		<link rel="manifest" href="/assets/images/icons/site.webmanifest">
		<link rel="mask-icon" href="/assets/images/icons/safari-pinned-tab.svg" color="#0075ff">
		<link rel="shortcut icon" href="/assets/images/icons/favicon.ico">
		<meta name="msapplication-TileColor" content="#2d89ef">
		<meta name="msapplication-config" content="/assets/images/icons/browserconfig.xml">
		<meta name="theme-color" content="#ffffff">
		<meta name="description" content="Maiden's Marvelous Materials Wiki">
		<meta name="keywords" content="Maiden, Marvelous, Materials, Wiki">
		<meta name="author" content="Tim Wasinger">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="/assets/libs/css/w3-css-4.0.0.css">
		<link rel="stylesheet" href="/assets/libs/css/font-awesome-4.7.0.min.css">
		<style>
		</style>
	</head>
	<body>
		<article>
			<header class="wiki-header">
			
			</header>
			<hr>
			<img class="wiki-image">
			<section class="wiki-content">
			
			</section>
		</article>
		<script>
			let usp = new URLSearchParams(window.location.search);
			let category = (usp.get('category') ?? 'main');
			fetch('pages/' + category + '/' + (usp.get('entry') ?? 'index') + '.txt')
			.then(
				response => response.text()
			)
			.then(
				(text) => {
					let result = SHML.parseMarkup(text);
					document.querySelector('.wiki-content').innerHTML = result.toHTML();
					let title = (result.getProperty('title') ?? usp.get('entry') ?? 'Unknown Page').trim();
					let header = document.querySelector('.wiki-header');
					header.innerHTML += '<p>in: ' + category + '</p>'
					header.innerHTML += '<h1 class="wiki-header-title">' + SHML.parseInlineMarkup(title).toHTML() + '</h1>';
					let revisedOn = result.getProperty('revised')
					if(revisedOn !== undefined) header.innerHTML += '<p>Last Revised On: ' + revisedOn.trim(); + '</p>';
					document.title += ' (' + document.querySelector('.wiki-header-title').textContent + ')';
					document.querySelector('.wiki-image').src = 'images/' + (result.getProperty('picture') ?? 'default.png').trim();
				}
			);
		</script>
	</body>
</html>